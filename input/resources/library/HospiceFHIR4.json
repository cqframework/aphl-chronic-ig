{
  "resourceType": "Library",
  "id": "HospiceFHIR4",
  "meta": {
    "profile": [ "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-library-cqfm" ]
  },
  "language": "en",
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.11.0"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": true
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "None"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  } ],
  "url": "http://fhir.org/guides/cqf/aphl/chronic-ds/Library/HospiceFHIR4",
  "version": "2.0.000",
  "name": "HospiceFHIR4",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2021-01-08T13:45:15+00:00",
  "publisher": "Mathematica",
  "description": "HospiceFHIR4",
  "relatedArtifact": [ {
    "type": "depends-on",
    "display": "FHIR model information",
    "resource": "http://fhir.org/guides/cqf/common/Library/FHIR-ModelInfo|4.0.1"
  }, {
    "type": "depends-on",
    "display": "Library Global",
    "resource": "http://fhir.org/guides/cqf/aphl/chronic-ds/Library/MATGlobalCommonFunctionsFHIR4|6.0.000"
  }, {
    "type": "depends-on",
    "display": "Library FHIRHelpers",
    "resource": "http://fhir.org/guides/cqf/aphl/chronic-ds/Library/FHIRHelpers|4.1.000"
  }, {
    "type": "depends-on",
    "display": "Library AC",
    "resource": "http://fhir.org/guides/cqf/aphl/chronic-ds/Library/AlphoraCommon"
  }, {
    "type": "depends-on",
    "display": "Library FC",
    "resource": "http://fhir.org/guides/cqf/aphl/chronic-ds/Library/FHIRCommon|1.1.000"
  }, {
    "type": "depends-on",
    "display": "Code system SNOMEDCT",
    "resource": "http://snomed.info/sct"
  }, {
    "type": "depends-on",
    "display": "Code system LOINC",
    "resource": "http://loinc.org"
  }, {
    "type": "depends-on",
    "display": "Code system ConditionClinicalStatusCodes",
    "resource": "http://terminology.hl7.org/CodeSystem/condition-clinical"
  }, {
    "type": "depends-on",
    "display": "Code system ConditionVerificationStatusCodes",
    "resource": "http://terminology.hl7.org/CodeSystem/condition-ver-status"
  }, {
    "type": "depends-on",
    "display": "Value set Encounter Inpatient",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
  }, {
    "type": "depends-on",
    "display": "Value set Hospice Care Ambulatory",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1108.15"
  }, {
    "type": "depends-on",
    "display": "Value set Hospice Encounter",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1003"
  }, {
    "type": "depends-on",
    "display": "Value set Hospice Diagnosis",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1165"
  } ],
  "parameter": [ {
    "name": "Measurement Period",
    "use": "in",
    "min": 0,
    "max": "1",
    "type": "Period"
  }, {
    "name": "Patient",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Patient"
  }, {
    "name": "Has Hospice",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  } ],
  "dataRequirement": [ {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Patient" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Encounter" ],
    "mustSupport": [ "type", "hospitalization", "hospitalization.dischargeDisposition", "period", "status" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Encounter" ],
    "mustSupport": [ "type", "period", "status" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1003"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Observation" ],
    "mustSupport": [ "code", "value", "effective", "status" ],
    "codeFilter": [ {
      "path": "code",
      "code": [ {
        "system": "http://loinc.org",
        "code": "45755-6",
        "display": "Hospice care [Minimum Data Set]"
      } ]
    } ]
  }, {
    "type": "ServiceRequest",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/ServiceRequest" ],
    "mustSupport": [ "code", "authoredOn", "status", "intent", "doNotPerform" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1108.15"
    } ]
  }, {
    "type": "Procedure",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Procedure" ],
    "mustSupport": [ "code", "performed", "status" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1108.15"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Condition" ],
    "mustSupport": [ "code", "clinicalStatus", "verificationStatus" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1165"
    } ]
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBIb3NwaWNlRkhJUjQgdmVyc2lvbiAnMi4wLjAwMCcgLy9TaG91bGQgdGhpcyBiZSB1cGRhdGVkDQoNCi8qVGhpcyBleGFtcGxlIGlzIGEgd29yayBpbiBwcm9ncmVzcyBhbmQgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGEgZmluYWwgc3BlY2lmaWNhdGlvbg0Kb3IgcmVjb21tZW5kYXRpb24gZm9yIGd1aWRhbmNlLiBUaGlzIGV4YW1wbGUgd2lsbCBoZWxwIGd1aWRlIGFuZCBkaXJlY3QgdGhlIHByb2Nlc3MNCm9mIGZpbmRpbmcgY29udmVudGlvbnMgYW5kIHVzYWdlIHBhdHRlcm5zIHRoYXQgbWVldCB0aGUgbmVlZHMgb2YgdGhlIHZhcmlvdXMgc3Rha2Vob2xkZXJzDQppbiB0aGUgbWVhc3VyZSBkZXZlbG9wbWVudCBjb21tdW5pdHkuKi8NCg0KdXNpbmcgRkhJUiB2ZXJzaW9uICc0LjAuMScNCg0KaW5jbHVkZSBNQVRHbG9iYWxDb21tb25GdW5jdGlvbnNGSElSNCB2ZXJzaW9uICc2LjAuMDAwJyBjYWxsZWQgR2xvYmFsDQppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMS4wMDAnIGNhbGxlZCBGSElSSGVscGVycw0KaW5jbHVkZSBBbHBob3JhQ29tbW9uIGNhbGxlZCBBQw0KaW5jbHVkZSBGSElSQ29tbW9uIHZlcnNpb24gJzEuMS4wMDAnIGNhbGxlZCBGQyANCg0KY29kZXN5c3RlbSAiU05PTUVEQ1QiOiAnaHR0cDovL3Nub21lZC5pbmZvL3NjdCcgLy92ZXJzaW9uICdodHRwOi8vc25vbWVkLmluZm8vc2N0L3ZlcnNpb24vMjAxNzA5Jw0KY29kZXN5c3RlbSAiTE9JTkMiOiAnaHR0cDovL2xvaW5jLm9yZycNCg0KdmFsdWVzZXQgIkVuY291bnRlciBJbnBhdGllbnQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNjY2LjUuMzA3JyANCnZhbHVlc2V0ICJIb3NwaWNlIENhcmUgQW1idWxhdG9yeSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExMDguMTUnIA0KdmFsdWVzZXQgIkhvc3BpY2UgRW5jb3VudGVyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMDMnDQp2YWx1ZXNldCAiSG9zcGljZSBEaWFnbm9zaXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTE2NScNCg0KY29kZSAiRGlzY2hhcmdlIHRvIGhlYWx0aGNhcmUgZmFjaWxpdHkgZm9yIGhvc3BpY2UgY2FyZSAocHJvY2VkdXJlKSI6ICc0MjgzNzEwMDAxMjQxMDAnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdEaXNjaGFyZ2UgdG8gaGVhbHRoY2FyZSBmYWNpbGl0eSBmb3IgaG9zcGljZSBjYXJlIChwcm9jZWR1cmUpJw0KY29kZSAiRGlzY2hhcmdlIHRvIGhvbWUgZm9yIGhvc3BpY2UgY2FyZSAocHJvY2VkdXJlKSI6ICc0MjgzNjEwMDAxMjQxMDcnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdEaXNjaGFyZ2UgdG8gaG9tZSBmb3IgaG9zcGljZSBjYXJlIChwcm9jZWR1cmUpJw0KY29kZSAiSG9zcGljZSBjYXJlIFtNaW5pbXVtIERhdGEgU2V0XSI6ICc0NTc1NS02JyBmcm9tICJMT0lOQyIgZGlzcGxheSAnSG9zcGljZSBjYXJlIFtNaW5pbXVtIERhdGEgU2V0XScNCmNvZGUgIlllcyAocXVhbGlmaWVyIHZhbHVlKSI6ICczNzMwNjYwMDEnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdZZXMgKHF1YWxpZmllciB2YWx1ZSknDQoNCnBhcmFtZXRlciAiTWVhc3VyZW1lbnQgUGVyaW9kIiBkZWZhdWx0IEludGVydmFsW0AyMDI1LTAxLTAxVDAwOjAwOjAwLjAsIEAyMDI2LTAxLTAxVDAwOjAwOjAwLjApDQoNCmNvbnRleHQgUGF0aWVudA0KDQpkZWZpbmUgIkhhcyBIb3NwaWNlIjoNCiAgZXhpc3RzKA0KICAgIChBQy5RdWFsaWZpZWRFbmNvdW50ZXJzKFtFbmNvdW50ZXI6ICJFbmNvdW50ZXIgSW5wYXRpZW50Il0pKSBIb3NwaWNlSW5wDQogICAgICB3aGVyZSAoSG9zcGljZUlucC5ob3NwaXRhbGl6YXRpb24uZGlzY2hhcmdlRGlzcG9zaXRpb24gfiAiRGlzY2hhcmdlIHRvIGhvbWUgZm9yIGhvc3BpY2UgY2FyZSAocHJvY2VkdXJlKSINCiAgICAgICAgb3IgSG9zcGljZUlucC5ob3NwaXRhbGl6YXRpb24uZGlzY2hhcmdlRGlzcG9zaXRpb24gfiAiRGlzY2hhcmdlIHRvIGhlYWx0aGNhcmUgZmFjaWxpdHkgZm9yIGhvc3BpY2UgY2FyZSAocHJvY2VkdXJlKSIpDQogICAgICBhbmQgRkMuVG9JbnRlcnZhbChIb3NwaWNlSW5wLnBlcmlvZCkgZW5kcyBkdXJpbmcgIk1lYXN1cmVtZW50IFBlcmlvZCINCiAgKSBvciBleGlzdHMoDQogICAgKEFDLlF1YWxpZmllZEVuY291bnRlcnMoW0VuY291bnRlcjogIkhvc3BpY2UgRW5jb3VudGVyIl0pKSBIb3NwaWNlRW5jDQogICAgICB3aGVyZSBGQy5Ub0ludGVydmFsKEhvc3BpY2VFbmMucGVyaW9kKSBvdmVybGFwcyAiTWVhc3VyZW1lbnQgUGVyaW9kIg0KICApIG9yIGV4aXN0cygNCiAgICAoQUMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKFtPYnNlcnZhdGlvbjogIkhvc3BpY2UgY2FyZSBbTWluaW11bSBEYXRhIFNldF0iXSkpIEhvc3BpY2VPYnMNCiAgICAgIHdoZXJlIEhvc3BpY2VPYnMudmFsdWUgfiBUb0NvbmNlcHQoIlllcyAocXVhbGlmaWVyIHZhbHVlKSIpDQogICAgICAgIGFuZCBGQy5Ub0ludGVydmFsKEhvc3BpY2VPYnMuZWZmZWN0aXZlKSBvdmVybGFwcyAiTWVhc3VyZW1lbnQgUGVyaW9kIg0KICApIG9yIGV4aXN0cygNCiAgICAoQUMuUXVhbGlmaWVkU2VydmljZVJlcXVlc3RzKFtTZXJ2aWNlUmVxdWVzdDogIkhvc3BpY2UgQ2FyZSBBbWJ1bGF0b3J5Il0pKSBIb3NwaWNlU1INCiAgICAgIHdoZXJlIEZDLlRvSW50ZXJ2YWwoSG9zcGljZVNSLmF1dGhvcmVkT24pIGR1cmluZyAiTWVhc3VyZW1lbnQgUGVyaW9kIg0KICApIG9yIGV4aXN0cygNCiAgICAoQUMuUXVhbGlmaWVkUHJvY2VkdXJlcyhbUHJvY2VkdXJlOiAiSG9zcGljZSBDYXJlIEFtYnVsYXRvcnkiXSkpIEhvc3BpY2VQcm9jDQogICAgICB3aGVyZSBGQy5Ub0ludGVydmFsKEhvc3BpY2VQcm9jLnBlcmZvcm1lZCkgb3ZlcmxhcHMgIk1lYXN1cmVtZW50IFBlcmlvZCINCiAgKSBvciBleGlzdHMoDQogICAgKEFDLlF1YWxpZmllZENvbmRpdGlvbnMoW0NvbmRpdGlvbjogIkhvc3BpY2UgRGlhZ25vc2lzIl0pKSBIb3NwaWNlQ2FyZURpYWdub3Npcw0KICAgICAgd2hlcmUgRkMuVG9QcmV2YWxlbmNlSW50ZXJ2YWwoSG9zcGljZUNhcmVEaWFnbm9zaXMpIG92ZXJsYXBzICJNZWFzdXJlbWVudCBQZXJpb2QiDQogICkNCi8qDQoNCiAgb3IgZXhpc3RzICggWyJJbnRlcnZlbnRpb24sIE9yZGVyIjogIkhvc3BpY2UgQ2FyZSBBbWJ1bGF0b3J5Il0gSG9zcGljZU9yZGVyDQogICAgICB3aGVyZSBIb3NwaWNlT3JkZXIuYXV0aG9yRGF0ZXRpbWUgZHVyaW5nIGRheSBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIg0KICApDQogIG9yIGV4aXN0cyAoIFsiSW50ZXJ2ZW50aW9uLCBQZXJmb3JtZWQiOiAiSG9zcGljZSBDYXJlIEFtYnVsYXRvcnkiXSBIb3NwaWNlUGVyZm9ybWVkDQogICAgICB3aGVyZSBHbG9iYWwuIk5vcm1hbGl6ZUludGVydmFsIiAoIEhvc3BpY2VQZXJmb3JtZWQucmVsZXZhbnREYXRldGltZSwgSG9zcGljZVBlcmZvcm1lZC5yZWxldmFudFBlcmlvZCApIG92ZXJsYXBzIGRheSBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIg0KICApDQpvciBleGlzdHMgKCBbIkRpYWdub3NpcyI6ICJIb3NwaWNlIERpYWdub3NpcyJdIEhvc3BpY2VDYXJlRGlhZ25vc2lzDQogICAgICB3aGVyZSBIb3NwaWNlQ2FyZURpYWdub3Npcy5wcmV2YWxlbmNlUGVyaW9kIG92ZXJsYXBzIGRheSBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIg0KICApDQoNCiovDQo=",
    "url": "http://fhir.org/guides/cqf/aphl/chronic-ds/Library-HospiceFHIR4.cql"
  } ]
}